表：

入库主表

入库详情表

出库主表

出库详情表

产品出入库流水表

打包主表

打包详情表

采购清单表

采购清单明细表

生产清单表

生产清单明细表

生产流程单表

生产流程单明细表

生产流程审核记录表

退料流程单

退料单详情表

项目表

项目细节表

库存表

库存流水表

库位表

材料表

产品表



我的名字是张晓，现在就读于中国海洋大学软件工程专业研究生二年级，也就是准研三，明年毕业。在此之前有过两段实习经历，第一个实习经历用的是SpringBoot + Vue，是做的一个ERP，主要是生产流程的优化，入库管理，打包管理模块。

**生产流程的优化模块功能** 是用户上传设计部下发的设计清单，在	后台解析分割成小的excel，解析完成后持久化到数据库中，这样可以方便在前端打印出来以便工人对照列表进行加工。分割的具体流程是这样，设计清单中包含不同类型不同规格的需要加工生产的材料，根据材料的不同规格的不同，把它们分成25条数据一组，但是怎么分是问题，一般来说是先分类，然后按照从大到小的顺序进行分割，但是这样的话进行加工会有较大的浪费，比如原料是9米的，可能从大到小的会有这么一种情况，两根5米的材料进行加工，可能会浪费剩余的4米，当然这4米也可以继续用，但是会一直堆积在工作区，无法做到细粒度管理，因此我采用了回溯剪枝的方法，首先获取原材料的长度和需要加工的长度，进行深度优先遍历，计算出废料率最少的一种组合方式，然后把这种组合方式保存下来。这个组合方式就是一个生产流程单。这个生产流程单的状态初始时是未生产状态。

**入库管理 **包含成品入库，打包入库，退料入库四个模块，成品入库意思是将刚才提及的生产流程单的状态改为已入库状态。打包入库则是将成品入库的产品按照清单进行分拣，然后将分拣完成的按照区域进行打包以便发货。退料入库则是成品使用完成后，返回到仓库，进行二次加工，加工流程与刚才说的生产流程类似。

**项目架构** 这个项目用到了读写分离，使用的是SpringAop的动态数据源。写操作写到主库里，但是读操作是读从库，这样会有数据延迟的方式，可以设置主从复制的方式为全同步复制，只有从节点全部复制完数据才向客户端返回，也可以采用将一些强一致性的操作的读写均指向主库，或者简单点，告诉用户你的数据已经提交了，等待30秒刷新试试。将热点数据放在了Redis中，为了保证缓存和数据库双写时的数据一致性，采用了canal框架实现了ApplicationRunner接口，作为守护线程的方式来实现。







### 背景
昨天下午（2021年7月22日）收到面试邮件通知说今日（2021年7月23日） 下午5点面试，邮件中提到是视频面，还特意下了个JoyMeeting，然后今天4：30接到电话说可以提前吗，于是就开始电话面试。总时长27mins。
### 问题
自我介绍
#### Java
java 8种数据类型
int几个字节，最大多少
Map接口的实现类，HashMap底层数据结构
Hashmap的容量,为什么是2的n次方
Hashmap什么时候会由链表转为红黑树
为什么红黑树的阈值是8
为什么采用红黑树
红黑树特点
调用什么方法会使一个线程进入就绪状态。
共享变量通信
垃圾回收算法
wait和sleep区别
Java存储中文用什么



#### 网络
TCP保证可靠性（三次握手），为什么不是四次
TCP三次握手后为了交流什么
TCP UDP区别
UDP能实现可靠传输吗
TCP保证可靠性的方法
Cookie和Session区别
Cookie如何保存敏感信息，用对称还是非对称
打开京东网站过程发生了什么（八股文）
RPC框架知道哪些

#### 数据库
索引有什么用
mysql innodb引擎用的什么数据结构
为什么采用B+ 树

### 反问
公司哪个部门：基础架构，主要是做服务注册服务发现。
JD的后端是用什么写的，大部分是java

### 总结
面试官人很好，会给提示~
有些事情还是需要深入学习，一个问题需要再往深处想一想。

许愿二面~~~~~~~~~，给个Offer吧，救救孩子……

